[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "temp/test.html",
    "href": "temp/test.html",
    "title": "",
    "section": "",
    "text": "import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.font_manager as fm\nfrom matplotlib.figure import Figure\nfrom matplotlib.backends.backend_agg import FigureCanvasAgg as FigureCanvas\nimport requests\nimport os\nimport io\nimport zipfile\n\n# ==============================================================================\n# 1. 초기 설정: 폰트, 색상, 테마\n# ==============================================================================\n\n# Roboto 폰트 다운로드 및 설정\ndef setup_font():\n    \"\"\"Roboto 폰트를 다운로드하고 Matplotlib에 등록합니다.\"\"\"\n    font_name = \"Roboto\"\n    if any(font_name in f.name for f in fm.fontManager.ttflist):\n        return font_name\n\n    print(f\"'{font_name}' 폰트를 다운로드하고 설정합니다...\")\n    try:\n        # Google Fonts에서 Roboto 폰트 다운로드\n        url = \"https://fonts.google.com/download?family=Roboto\"\n        response = requests.get(url)\n        response.raise_for_status()\n        \n        # 메모리에서 ZIP 파일 처리\n        z = zipfile.ZipFile(io.BytesIO(response.content))\n        font_dir = \"fonts\"\n        os.makedirs(font_dir, exist_ok=True)\n        z.extractall(font_dir)\n        \n        # Matplotlib 폰트 매니저에 추가\n        for font_file in fm.findSystemFonts(fontpaths=font_dir):\n            fm.fontManager.addfont(font_file)\n        \n        print(f\"'{font_name}' 폰트 설정 완료.\")\n        return font_name\n    except Exception as e:\n        print(f\"폰트 다운로드 또는 설정에 실패했습니다: {e}\")\n        # 실패 시 기본 폰트 사용\n        return fm.FontProperties(family=\"arial\").get_name()\n\nfont = setup_font()\n\n# 색상 팔레트\ncols = {\n    'beef': '#ffd38b',\n    'poultry': '#f17367',\n    'sheep_goat': '#e06bdf',\n    'pig': '#66c4ec',\n    'other': '#CCCCCC'\n}\n\n# Matplotlib 스타일 설정 (ggplot의 my_gg_theme 함수 대체)\ndef set_custom_theme(ax, fig):\n    \"\"\"Matplotlib의 Axes와 Figure 객체에 커스텀 테마를 적용합니다.\"\"\"\n    fig.patch.set_facecolor(\"#fefaf2\")\n    ax.set_facecolor(\"#fefaf2\")\n    \n    # 그리드 설정\n    ax.grid(True, which='major', axis='y', color='#eeeeee', linestyle='-', linewidth=0.5)\n    ax.grid(True, which='major', axis='x', color='#eeeeee', linestyle='-', linewidth=0.5)\n    \n    # 축과 틱 설정\n    ax.spines['top'].set_visible(False)\n    ax.spines['right'].set_visible(False)\n    ax.spines['left'].set_color('#eeeeee')\n    ax.spines['bottom'].set_color('#eeeeee')\n    \n    ax.tick_params(axis='x', colors='#888888', labelsize=7, length=0)\n    ax.tick_params(axis='y', colors='#888888', labelsize=7, length=0)\n\n    # 축 제목\n    ax.xaxis.label.set_color('#888888')\n    ax.xaxis.label.set_size(7)\n    ax.yaxis.label.set_color('#888888')\n    ax.yaxis.label.set_size(7)\n\n# ==============================================================================\n# 2. 데이터 로드 및 전처리\n# ==============================================================================\n\n# 데이터 로드\nmt_sel = pd.read_csv(\"meat_consumption.txt\", sep=\"\\t\")\n\n# 숫자형으로 변환\nnum_cols = ['other', 'sheep_goat', 'beef', 'pig', 'poultry']\nfor col in num_cols:\n    mt_sel[col] = pd.to_numeric(mt_sel[col], errors='coerce')\n\n# 지역 필터링 및 이름 변경\nregions = [\"Africa\", \"Europe\", \"South America\", \"North America\", \"Asia\", \"World\"]\nmt_sel = mt_sel[mt_sel['region'].isin(regions)].copy()\nmt_sel['region'] = mt_sel['region'].replace({\n    \"South America\": \"S.America\",\n    \"North America\": \"N.America\"\n})\n\n# 1965년 이후 데이터 필터링\nmt_sel = mt_sel[mt_sel['yr'] &gt;= 1965]\n\n# 결측치 채우기 (Last Observation Carried Forward)\n# 각 지역별로 그룹화하여 ffill 적용\nmt_sel_imp = mt_sel.sort_values(by=['region', 'yr'])# .groupby('region').ffill()\n\n# display(mt_sel_imp)\n\n# 모든 육류 소비 합계 계산 및 데이터 형태 변환\nmt_sel_imp['all_meat'] = mt_sel_imp[num_cols].sum(axis=1)\nmt_imp = mt_sel_imp.pivot_table(index='yr', columns='region', values='all_meat').reset_index()\n\n\n# ==============================================================================\n# 3. 플롯 생성을 위한 준비\n# ==============================================================================\n\n# 파이 차트가 위치할 연도와 좌표\nyears = [1970, 1980, 1990, 2000, 2010, 2021]\npos = mt_imp[mt_imp['yr'].isin(years)]['World'].tolist()\n\n# 텍스트 주석 내용 생성\nna_meat_val = mt_imp[mt_imp['yr'] == 2021]['N.America'].iloc[0]\nNA_meat = f\"North Americans consumed on average\\n{na_meat_val:.1f} kg meat per year in 2021\"\n\nsa_2021 = mt_imp[mt_imp['yr'] == 2021]['S.America'].iloc[0]\nsa_1965 = mt_imp[mt_imp['yr'] == 1965]['S.America'].iloc[0]\nSA_meat = f\"South Americans consumed {((sa_2021 / sa_1965) * 100):.0f}%\\nmore meat in 2021 than in 1965\"\n\nEU_meat = \"Europe's meat consumption\\npeaked in 1990\"\npie_info = \"Poultry was the most consumed meat per capita worldwide\\nin 2021 and explained the largest proportion of the increase\\nin global meat consumption during the past 50 or so years\"\n\n\n# ==============================================================================\n# 4. 플롯 그리기\n# ==============================================================================\n\n# 전체 Figure와 GridSpec 설정\nfig = plt.figure(figsize=(7, 7), dpi=150)\nfig.patch.set_facecolor(\"#fefaf2\")\ngs = fig.add_gridspec(2, 2, height_ratios=[2.4, 2], hspace=0.3)\n\n# --- 상단 플롯 (p1) ---\nax1 = fig.add_subplot(gs[0, :])\nset_custom_theme(ax1, fig)\n\n# 세계 평균 라인\nax1.plot(mt_imp['yr'], mt_imp['World'], color='#222222', linewidth=1)\nax1.scatter(years, pos, s=250, facecolors='white', edgecolors='#222222', zorder=5, linewidth=0.8)\n\n# 다른 지역 라인들\nother_regions = [r for r in regions if r != \"World\"]\nother_regions = [r.replace(\"South America\", \"S.America\").replace(\"North America\", \"N.America\") for r in other_regions]\n\nfor region in other_regions:\n    ax1.plot(mt_imp['yr'], mt_imp[region], color='#999999', linewidth=0.5)\n    # 라인 끝에 텍스트 추가\n    ax1.text(mt_imp['yr'].iloc[-1] + 0.5, mt_imp[region].iloc[-1], region, \n             fontsize=7, color='#555555', family=font, va='center')\n\n# 파이 차트 삽입\npie_order = ['poultry', 'beef', 'pig', 'sheep_goat', 'other']\npie_colors = [cols[key] for key in pie_order]\n\nfor i, year in enumerate(years):\n    # 파이 차트 데이터 준비\n    pie_data = mt_sel_imp[(mt_sel_imp['region'] == 'World') & (mt_sel_imp['yr'] == year)]\n    pie_values = pie_data[pie_order].values.flatten()\n\n    # inset axes 위치 계산\n    x_pos, y_pos = year, pos[i]\n    ax_inset = ax1.inset_axes([x_pos - 3, y_pos - 10, 6, 20], transform=ax1.transData)\n    ax_inset.pie(pie_values, colors=pie_colors, startangle=90, counterclock=False)\n    ax_inset.set_aspect('equal')\n\n# 제목 및 부제목\nfig.text(0.05, 0.95, \"Food for thought\", fontsize=21, family=font, color=\"#444444\", weight='bold')\nsubtitle = \"Meat consumption per capita rose steadily from 1965 to 2021, largely driven by increased consumption of poultry which now\\nhas overtaken pigmeat as the most consumed meat worldwide. There are large regional variations in meat consumption per\\ncapita and meat type preferences.\"\nfig.text(0.05, 0.90, subtitle, fontsize=8, family=font, color=\"#444444\", va='top', linespacing=1.5)\n\n\n# 축 설정\nax1.set_ylabel(\"Meat consumption per year per capita, kg\", family=font, labelpad=10)\nax1.set_xlim(1963, 2028)\nax1.set_xticks(range(1965, 2021, 5))\nax1.tick_params(axis='x', labelsize=7)\n\n# 범례 추가 (직접 생성)\nlegend_ax = ax1.inset_axes([0.5, 0.05, 0.3, 0.1])\nlegend_ax.set_facecolor(\"#fefaf2\")\nlegend_ax.axis('off')\nhandles = [plt.Rectangle((0,0),1,1, color=cols[label]) for label in pie_order]\nlegend_ax.legend(handles, pie_order, ncol=len(pie_order), frameon=False,\n                 loc='center', prop={'family': font, 'size': 7},\n                 labelcolor=\"#555555\", handletextpad=0.5, columnspacing=1.5,\n                 bbox_to_anchor=(0.5, 0.5))\n\n# 텍스트 및 포인트 주석 추가\n# N.America\ny_na = mt_imp[mt_imp['yr'] == 2021]['N.America'].iloc[0]\nax1.scatter(2021, y_na, s=20, facecolors='white', edgecolors='#555555', linewidth=0.5, zorder=5)\nax1.text(2019.5, 106, NA_meat, family=font, size=6, color=\"#555555\", ha='right', va='top', linespacing=1.2)\n\n# S.America\ny_sa = mt_imp[mt_imp['yr'] == 2021]['S.America'].iloc[0]\nax1.scatter(2021, y_sa, s=20, facecolors='white', edgecolors='#555555', linewidth=0.5, zorder=5)\nax1.text(2019.5, 88, SA_meat, family=font, size=6, color=\"#555555\", ha='right', va='top', linespacing=1.2)\n\n# Europe\ny_eu = mt_imp[mt_imp['yr'] == 1990]['Europe'].iloc[0]\nax1.scatter(1990, y_eu, s=20, facecolors='white', edgecolors='#555555', linewidth=0.5, zorder=5)\nax1.text(1988, 68, EU_meat, family=font, size=6, color=\"#555555\", ha='center', va='top', linespacing=1.2)\n\n# Pie info\nax1.text(2025, 57, pie_info, family=font, size=6, color=\"#555555\", ha='right', va='center', linespacing=1.2)\nax1.set_clip_on(False) # R의 coord_cartesian(clip = \"off\") 효과\n\n\n# --- 하단 플롯 (p2) ---\np2_data = mt_sel_imp.melt(id_vars=['region', 'yr'], value_vars=num_cols, var_name='meat_type')\nregion_order = [\"World\", \"Africa\", \"Asia\", \"Europe\", \"S.America\", \"N.America\"]\np2_data['region'] = pd.Categorical(p2_data['region'], categories=region_order, ordered=True)\np2_data = p2_data.sort_values('region')\n\narea_order = ['other', 'sheep_goat', 'pig', 'beef', 'poultry']\narea_colors = [cols[key] for key in area_order]\n\n# 6개의 subplot 생성\naxes_p2 = [fig.add_subplot(gs[1, 0]), fig.add_subplot(gs[1, 1])]\naxes_p2_grid = [axes_p2[0].inset_axes([0, 0, 1, 0.33]),\n                axes_p2[0].inset_axes([0, 0.33, 1, 0.33]),\n                axes_p2[0].inset_axes([0, 0.66, 1, 0.34]),\n                axes_p2[1].inset_axes([0, 0, 1, 0.33]),\n                axes_p2[1].inset_axes([0, 0.33, 1, 0.33]),\n                axes_p2[1].inset_axes([0, 0.66, 1, 0.34])]\n\nfor ax_main in axes_p2:\n    ax_main.axis('off')\n\nfor i, region in enumerate(region_order):\n    ax = axes_p2_grid[i]\n    set_custom_theme(ax, fig)\n    \n    region_data = p2_data[p2_data['region'] == region]\n    pivot_data = region_data.pivot_table(index='yr', columns='meat_type', values='value')[area_order]\n    \n    ax.stackplot(pivot_data.index, pivot_data.T, colors=area_colors, alpha=0.8, labels=area_order)\n\n    # Facet 제목 (strip.text)\n    ax.text(0.02, 0.85, region, transform=ax.transAxes, fontsize=8, family=font, color='#444444', weight='bold')\n\n    # 축과 그리드 정리\n    ax.set_yticks([])\n    ax.grid(False)\n    ax.spines['left'].set_visible(False)\n    ax.spines['bottom'].set_visible(False)\n    ax.set_xticks([1965, 1970, 1980, 1990, 2000, 2010, 2021])\n    if i not in [0, 3]: # 하단에 있는 플롯이 아니면 x축 라벨 숨김\n        ax.tick_params(axis='x', labelbottom=False)\n    else:\n        ax.tick_params(axis='x', labelsize=6)\n    ax.set_xlim(1965, 2021)\n\n# 하단 캡션\nfig.text(0.95, 0.05, \"Data source: Food and Agriculture Organization of the United Nations (2023)\",\n         fontsize=6, family=font, color=\"#666666\", ha='right')\n\nplt.subplots_adjust(left=0.1, right=0.9, top=0.88, bottom=0.1)\nplt.show()\n\n# 파일로 저장\n# fig.savefig(\"meat_consumption_python.pdf\", bbox_inches='tight', pad_inches=0.5)\n# fig.savefig(\"meat_consumption_python.png\", bbox_inches='tight', pad_inches=0.5)\n\n'Roboto' 폰트를 다운로드하고 설정합니다...\n폰트 다운로드 또는 설정에 실패했습니다: File is not a zip file\n\n\n\n\n\n\n\n\n\n\nimport pandas as pd\nimport numpy as np\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n\n# ==============================================================================\n# 1. 초기 설정: 색상, 폰트 등\n# ==============================================================================\n\n# R 코드와 동일한 색상 팔레트\ncols = {\n    'beef': '#ffd38b',\n    'poultry': '#f17367',\n    'sheep_goat': '#e06bdf',\n    'pig': '#66c4ec',\n    'other': '#CCCCCC'\n}\n# 폰트 설정\nfont_family = \"Roboto, Arial, sans-serif\"\nbackground_color = \"#fefaf2\"\n\n# ==============================================================================\n# 2. 데이터 로드 및 전처리 (Matplotlib 버전과 동일)\n# ==============================================================================\n# 데이터 로드\nmt_sel = pd.read_csv(\"meat_consumption.txt\", sep=\"\\t\")\n# 숫자형으로 변환\nnum_cols = ['other', 'sheep_goat', 'beef', 'pig', 'poultry']\nfor col in num_cols:\n    mt_sel[col] = pd.to_numeric(mt_sel[col], errors='coerce')\n\n# 지역 필터링 및 이름 변경\nregions = [\"Africa\", \"Europe\", \"South America\", \"North America\", \"Asia\", \"World\"]\nmt_sel = mt_sel[mt_sel['region'].isin(regions)].copy()\nmt_sel['region'] = mt_sel['region'].replace({\n    \"South America\": \"S.America\",\n    \"North America\": \"N.America\"\n})\n# 1965년 이후 데이터 필터링\nmt_sel = mt_sel[mt_sel['yr'] &gt;= 1965]\n\n# 결측치 채우기 (Last Observation Carried Forward)\nmt_sel_imp = mt_sel.sort_values(by=['region', 'yr'])# .groupby('region').ffill()\n\n# 모든 육류 소비 합계 계산 및 데이터 형태 변환\nmt_sel_imp['all_meat'] = mt_sel_imp[num_cols].sum(axis=1)\nmt_imp = mt_sel_imp.pivot_table(index='yr', columns='region', values='all_meat').reset_index()\n\n\n# ==============================================================================\n# 3. 플롯 생성\n# ==============================================================================\n\n# Figure 객체 생성\nfig = go.Figure()\n\n# --- 상단 플롯 (p1) ---\n\n# 다른 지역 라인들 (회색)\nother_regions = [r for r in mt_imp.columns if r not in ['yr', 'World']]\nfor region in other_regions:\n    fig.add_trace(go.Scatter(\n        x=mt_imp['yr'], y=mt_imp[region],\n        mode='lines',\n        line=dict(color='#999999', width=1),\n        name=region,\n        hoverinfo='x+y+name'\n    ))\n\n# 세계 평균 라인 (진한 색)\nfig.add_trace(go.Scatter(\n    x=mt_imp['yr'], y=mt_imp['World'],\n    mode='lines',\n    line=dict(color='#222222', width=2),\n    name='World',\n    hoverinfo='x+y+name'\n))\n\n# 파이 차트가 위치할 연도와 좌표\nyears = [1970, 1980, 1990, 2000, 2010, 2021]\npos = mt_imp[mt_imp['yr'].isin(years)]['World'].tolist()\n\n# 세계 평균 라인 위의 큰 원 마커\nfig.add_trace(go.Scatter(\n    x=years, y=pos,\n    mode='markers',\n    marker=dict(size=18, color='white', line=dict(color='#222222', width=1.5)),\n    hoverinfo='none',\n    showlegend=False\n))\n\n\n# 파이 차트 삽입 (도메인 활용)\npie_order = ['poultry', 'beef', 'pig', 'sheep_goat', 'other']\npie_colors = [cols[key] for key in pie_order]\n\n# 파이 차트 위치와 크기 수동 지정\npie_domains = [\n    {'x': [0.06, 0.16], 'y': [0.60, 0.70]},  # 1970\n    {'x': [0.22, 0.32], 'y': [0.63, 0.73]},  # 1980\n    {'x': [0.38, 0.48], 'y': [0.68, 0.78]},  # 1990\n    {'x': [0.54, 0.64], 'y': [0.72, 0.82]},  # 2000\n    {'x': [0.70, 0.80], 'y': [0.75, 0.85]},  # 2010\n    {'x': [0.86, 0.96], 'y': [0.77, 0.87]},  # 2021\n]\n\nfor i, year in enumerate(years):\n    pie_data = mt_sel_imp[(mt_sel_imp['region'] == 'World') & (mt_sel_imp['yr'] == year)]\n    pie_values = pie_data[pie_order].values.flatten()\n    \n    fig.add_trace(go.Pie(\n        values=pie_values,\n        labels=pie_order,\n        domain=pie_domains[i],\n        marker_colors=pie_colors,\n        hole=0.3,\n        hoverinfo='label+percent',\n        textinfo='none',\n        showlegend= (i == 0), # 첫 번째 파이에서만 범례 표시\n        legendgroup='group1' # 모든 파이를 동일 범례 그룹으로 묶음\n    ))\n\n\n# --- 하단 플롯 (p2) ---\n\n# 하단 플롯 데이터 준비\np2_data = mt_sel_imp.melt(id_vars=['region', 'yr'], value_vars=num_cols, var_name='meat_type')\nregion_order = [\"World\", \"Africa\", \"Asia\", \"Europe\", \"S.America\", \"N.America\"]\narea_order = ['other', 'sheep_goat', 'pig', 'beef', 'poultry']\narea_colors = {key: cols[key] for key in area_order}\n\n# 6개의 하단 플롯 위치(도메인) 정의\nbottom_plot_domains = {\n    'World':     {'x': [0.0, 0.48], 'y': [0.26, 0.38]},\n    'Africa':    {'x': [0.0, 0.48], 'y': [0.13, 0.25]},\n    'Asia':      {'x': [0.0, 0.48], 'y': [0.0, 0.12]},\n    'Europe':    {'x': [0.52, 1.0], 'y': [0.26, 0.38]},\n    'S.America': {'x': [0.52, 1.0], 'y': [0.13, 0.25]},\n    'N.America': {'x': [0.52, 1.0], 'y': [0.0, 0.12]}\n}\n\n# 각 지역별로 누적 영역 차트 추가\nfor i, region in enumerate(region_order, start=2): # xaxis/yaxis는 1부터 시작 (1은 상단 플롯)\n    domain = bottom_plot_domains[region]\n    \n    # 각 육류 타입에 대한 trace 추가\n    for meat_type in area_order:\n        region_meat_data = p2_data[(p2_data['region'] == region) & (p2_data['meat_type'] == meat_type)]\n        fig.add_trace(go.Scatter(\n            x=region_meat_data['yr'],\n            y=region_meat_data['value'],\n            mode='lines',\n            line=dict(width=0.5, color=area_colors[meat_type]),\n            stackgroup='one', # 같은 그룹으로 묶어 누적\n            xaxis=f'x{i}',\n            yaxis=f'y{i}',\n            fillcolor=area_colors[meat_type],\n            name=meat_type,\n            legendgroup='area_legend',\n            showlegend=False, # 범례 중복 방지\n            hoverinfo='x+y+name'\n        ))\n\n\n# ==============================================================================\n# 4. 레이아웃 및 주석 설정\n# ==============================================================================\n\n# 주석 내용 준비\nna_meat_val = mt_imp[mt_imp['yr'] == 2021]['N.America'].iloc[0]\nNA_meat = f\"North Americans consumed on average&lt;br&gt;{na_meat_val:.1f} kg meat per year in 2021\"\nsa_2021 = mt_imp[mt_imp['yr'] == 2021]['S.America'].iloc[0]\nsa_1965 = mt_imp[mt_imp['yr'] == 1965]['S.America'].iloc[0]\nSA_meat = f\"South Americans consumed {((sa_2021 / sa_1965) * 100):.0f}%&lt;br&gt;more meat in 2021 than in 1965\"\nEU_meat = \"Europe's meat consumption&lt;br&gt;peaked in 1990\"\npie_info = \"Poultry was the most consumed meat per capita worldwide&lt;br&gt;in 2021 and explained the largest proportion of the increase&lt;br&gt;in global meat consumption during the past 50 or so years\"\n\n# 전체 레이아웃 업데이트\nfig.update_layout(\n    # --- 제목 및 폰트 ---\n    title=dict(\n        text=\"&lt;b&gt;Food for thought&lt;/b&gt;&lt;br&gt;&lt;span style='font-size: 12px; color:#444444;'&gt;Meat consumption per capita rose steadily from 1965 to 2021, largely driven by increased consumption of poultry which now&lt;br&gt;has overtaken pigmeat as the most consumed meat worldwide. There are large regional variations in meat consumption per&lt;br&gt;capita and meat type preferences.&lt;/span&gt;\",\n        x=0.05, y=0.98, xanchor='left', yanchor='top',\n        font=dict(family=font_family, size=24, color='#444444')\n    ),\n    font=dict(family=font_family, size=10, color='#888888'),\n    paper_bgcolor=background_color,\n    plot_bgcolor=background_color,\n    height=800,\n    width=900,\n    showlegend=True,\n\n    # --- 범례 ---\n    legend=dict(\n        orientation=\"h\",\n        yanchor=\"bottom\", y=1.01,\n        xanchor=\"right\", x=0.7,\n        font=dict(size=9, color=\"#555555\"),\n        tracegroupgap=20\n    ),\n\n    # --- 상단 플롯 축 ---\n    xaxis=dict(domain=[0, 1], range=[1963, 2028], tickvals=list(range(1965, 2021, 5)), showgrid=True, gridcolor='#eeeeee', linecolor='#eeeeee'),\n    yaxis=dict(domain=[0.50, 1], title=\"Meat consumption per year per capita, kg\", showgrid=True, gridcolor='#eeeeee', linecolor='#eeeeee'),\n    \n    # --- 주석 (Annotations) ---\n    annotations=[\n        # 지역 라인 끝 라벨\n        go.layout.Annotation(x=2022, y=mt_imp[region].iloc[-1], text=region, showarrow=False, xanchor='left', font=dict(size=9, color=\"#555555\")) for region in other_regions\n    ] + [\n        # N.America\n        go.layout.Annotation(x=2019.5, y=106, text=NA_meat, showarrow=False, xanchor='right', yanchor='top', align='right', font=dict(size=9, color=\"#555555\")),\n        go.layout.Annotation(x=2021, y=na_meat_val, ax=2015, ay=108, arrowhead=2, arrowwidth=1, arrowcolor=\"#555555\"),\n        # S.America\n        go.layout.Annotation(x=2019.5, y=88, text=SA_meat, showarrow=False, xanchor='right', yanchor='top', align='right', font=dict(size=9, color=\"#555555\")),\n        go.layout.Annotation(x=2021, y=sa_2021, ax=2015, ay=90, arrowhead=2, arrowwidth=1, arrowcolor=\"#555555\"),\n        # Europe\n        go.layout.Annotation(x=1988, y=68, text=EU_meat, showarrow=False, xanchor='center', yanchor='top', align='center', font=dict(size=9, color=\"#555555\")),\n        go.layout.Annotation(x=1990, y=mt_imp[mt_imp['yr']==1990]['Europe'].iloc[0], ax=1988, ay=70, arrowhead=2, arrowwidth=1, arrowcolor=\"#555555\"),\n        # Pie Info\n        go.layout.Annotation(x=2025, y=57, text=pie_info, showarrow=False, xanchor='right', yanchor='middle', align='right', font=dict(size=9, color=\"#555555\")),\n        # 하단 캡션\n        go.layout.Annotation(xref=\"paper\", yref=\"paper\", x=0.98, y=-0.05, text=\"Data source: Food and Agriculture Organization of the United Nations (2023)\", showarrow=False, xanchor='right', font=dict(size=9, color=\"#666666\")),\n    ]\n)\n\n# --- 하단 플롯 축들 동적 생성 및 설정 ---\nfor i, region in enumerate(region_order, start=2):\n    domain = bottom_plot_domains[region]\n    fig.layout[f'xaxis{i}'] = dict(domain=domain['x'], showticklabels=(domain['y'][0]==0.0), showgrid=False, range=[1965, 2021])\n    fig.layout[f'yaxis{i}'] = dict(domain=domain['y'], showticklabels=False, showgrid=False)\n    # Facet 제목 (Annotation으로 추가)\n    fig.add_annotation(\n        xref=\"paper\", yref=\"paper\",\n        x=domain['x'][0] + 0.01, y=domain['y'][1] - 0.01,\n        text=f\"&lt;b&gt;{region}&lt;/b&gt;\",\n        showarrow=False,\n        xanchor='left', yanchor='top',\n        font=dict(size=10, color=\"#444444\")\n    )\n\n\nfig.show()\n\n# 파일로 저장 (필요시 주석 해제)\n# fig.write_html(\"meat_consumption_plotly.html\")\n# fig.write_image(\"meat_consumption_plotly.png\", scale=2)\n\nUnable to display output for mime type(s): application/vnd.plotly.v1+json"
  },
  {
    "objectID": "posts/index.html",
    "href": "posts/index.html",
    "title": "Posts",
    "section": "",
    "text": "Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Author\n        \n     \n  \n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/plastic_issue/index.html",
    "href": "posts/plastic_issue/index.html",
    "title": "Plastic 이슈 (~2019년)",
    "section": "",
    "text": "fig = go.Figure()\nfig.add_trace(go.Scatter(\n  x=global_plastics_production_df[\"Year\"],\n  y=global_plastics_production_df[\"Annual plastic production between 1950 and 2019\"],\n))"
  }
]